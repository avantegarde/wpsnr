<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name=apple-mobile-web-app-capable content=no>
<meta name=apple-mobile-web-app-status-bar-style content=black>
<meta name=format-detection content="telephone=no">
<meta name=viewport content="width=device-width, initial-scale=1">
<title>WordPress SQL Update Queries</title>
<style type="text/css">
*,
*:before,
*:after {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-kerning: auto;
}
html {
  font-size: 1em;
  line-height: 1.4;
  font-weight: 400;
  font-family: 'Open Sans', 'Source Sans Pro', Roboto, 'HelveticaNeue-Light', 'Helvetica Neue Light', 'Helvetica Neue', 'Myriad Pro', 'Segoe UI', Myriad, Helvetica, 'Lucida Grande', 'DejaVu Sans Condensed', 'Liberation Sans', 'Nimbus Sans L', Tahoma, Geneva, Arial, sans-serif;
  -webkit-text-size-adjust: 100%;
  background: #333333;
  color: #ffffff;
}
body {
  margin: 0;
  position: relative;
  text-align: center;
}
h3 {
  position: relative;
  display: block;
  width: 200px;
  max-width: 100%;
  margin: auto;
  padding: 15px;
  background: #0073a4;
  color: #ffffff;
}
h3:before {
  content: "";
  display: block;
  width: 0;
  height: 0;
  border-top: 10px solid transparent;
  border-right: 10px solid transparent;
  border-bottom: 10px solid transparent;
  border-left: 10px solid #333333;
  position: absolute;
  top: calc(50% - 10px);
  left: 0;
}
input[type="text"] {
  width: 200px;
  padding: 5px;
  max-width: 100%;
  font-size: 16px;
  line-height: 18px;
  border: none;
}
input[type="text"]:focus {
  outline: none;
  box-shadow: inset 0 1px 1px rgba(0,0,0,0.75);
  -moz-box-shadow: inset 0 1px 1px rgba(0,0,0,0.75);
  -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,0.75);
}
#output {
  display: block;
  width: 100%;
  max-width: 100%;
  min-height: 120px;
  margin: auto;
  padding: 15px 15px 50px 15px;
  text-align: left;
  background: #222222;
}
span {
  display: block;
  font-size: 12px;
  font-style: italic;
  color: #cccccc;
}
/*---------------------*
 *------ Buttons ------*
 *---------------------*/
[data-button],
[data-button]:visited {
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  display: inline-block;
  width: auto;
  margin: .5em auto;
  padding: .4em 1.5em .36em 1.5em;
  -webkit-appearance: none;
  appearance: none;
  outline: none;
  cursor: pointer;
  background: #0073a4;
  font-weight: 600;
  font-kerning: auto;
  text-decoration: none !important;
  text-align: center;
  font-size: 1.25em;
  line-height: 1;
  color: #ffffff !important;
  text-transform: none;
  border: none;
  border-top: 1px solid transparent;
    border-left: 1px solid transparent;
  box-shadow: 1px 1px 1px rgba(0, 0, 0, 0.5);
  -moz-box-shadow: 1px 1px 1px rgba(0, 0, 0, 0.5);
  -webkit-box-shadow: 1px 1px 1px rgba(0, 0, 0, 0.5);
  border-radius: 0;
  text-shadow: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  -o-user-select: none;
  user-select: none;
    transition: all 0.3s ease-in-out;
    -moz-transition: all 0.3s ease-in-out;
    -webkit-transition: all 0.3s ease-in-out;
}
[data-button]:hover,
[data-button]:focus {
  background: #0f5d7e;
  box-shadow: 0px 0px 0px rgba(0, 0, 0, 0.5);
  -moz-box-shadow: 0px 0px 0px rgba(0, 0, 0, 0.5);
  -webkit-box-shadow: 0px 0px 0px rgba(0, 0, 0, 0.5);
  border-top: 1px solid rgba(0, 0, 0, 0.25);
  border-left: 1px solid rgba(0, 0, 0, 0.25);
}
[data-button]:active {
  background: #15485e;
  box-shadow: 0px 0px 0px rgba(0, 0, 0, 0.75);
  -moz-box-shadow: 0px 0px 0px rgba(0, 0, 0, 0.75);
  -webkit-box-shadow: 0px 0px 0px rgba(0, 0, 0, 0.75);
  border-top: 1px solid rgba(0, 0, 0, 0.5);
  border-left: 1px solid rgba(0, 0, 0, 0.5);
}
[data-button="local"] {
  display: inline-block;
  width: 56px;
  height: 28px;
  margin: 0 -5px 0 -56px;
  padding: 0;
  font-size: 12px;
  line-height: 20px;
  vertical-align: top;
}
</style>
  <!-- START AdSense -->
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
      (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-1755005399297937",
          enable_page_level_ads: true
      });
  </script>
  <!-- END AdSense -->
</head>
<body>

  <h1>WordPress SQL Update Queries</h1>

  <h3>database prefix</h3>
  <button data-button="local" onclick="addInputText('db', 'wp')" />Default</button>
  <input id="db" type="text" name="db_prefix" id="db_prefix" placeholder="wp" />
  <span>(no trailing underscore)</span>
  <br>
  <h3>old url</h3>
  <button data-button="local" onclick="addInputText('oldUrl', 'http://localhost:8888')" />+ Local</button>
  <input id="oldUrl" type="text" name="old_url" id="old_url" placeholder="http://oldurl.com" />
  <span>(no trailing slash)</span>
  <br>
  <h3>new url</h3>
  <button data-button="local" onclick="addInputText('newUrl', 'http://localhost:8888')" />+ Local</button>
  <input id="newUrl" type="text" name="new_url" id="new_url" placeholder="http://newurl.com" />
  <span>(no trailing slash)</span>
  <br>
  <br>
  <button data-button onclick="wp_SNR()" />Submit</button>
  <br>
  <br>
  <div id="output"></div>

<script>
function wp_SNR(){
  var db = document.getElementById('db'),
      oldUrl = document.getElementById('oldUrl'),
      newUrl = document.getElementById('newUrl'),
      snrString = 'UPDATE ' + db.value + '_options SET option_value = REPLACE (option_value, &#39;' + oldUrl.value + '&#39;, &#39;' + newUrl.value + '&#39;);<br>\
                   UPDATE ' + db.value + '_posts SET guid = REPLACE (guid, &#39;' + oldUrl.value + '&#39;, &#39;' + newUrl.value + '&#39;);<br>\
                   UPDATE ' + db.value + '_posts SET post_content = REPLACE (post_content, &#39;' + oldUrl.value + '&#39;, &#39;' + newUrl.value + '&#39;);<br>\
                   UPDATE ' + db.value + '_postmeta SET meta_value = REPLACE (meta_value, &#39;' + oldUrl.value + '&#39;, &#39;' + newUrl.value + '&#39;);<br>',
      output = document.getElementById('output');
  output.innerHTML = snrString;
}
function addInputText(id, text) {
  if(id && text) {
    var el = document.getElementById(id);
    el.value = text.toString();
  }
}
</script>
</body>
</html>
